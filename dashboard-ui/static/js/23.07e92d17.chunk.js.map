{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","views/pages/login/Login.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","_arrayLikeToArray","len","arr2","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","Login","errTimeout","useRef","useState","cpf","password","state","setState","auth","useSelector","dispatch","useDispatch","history","useHistory","useEffect","user","token","handleLogin","a","showError","type","payload","msg","clearTimeout","current","setTimeout","className","md","color","onChange","e","target","placeholder","autoComplete","xs","onClick","style","width","active","tabIndex"],"mappings":"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","file":"static/js/23.07e92d17.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React, { useEffect, useRef, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow,\n  CAlert\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst Login = () => {\n  \n const errTimeout = useRef(null);\n const [state, setState] = useState({cpf: null, password: null, error: null});\n const auth = useSelector(state => state.auth);\n const dispatch = useDispatch();\n const history = useHistory();\n\n\n useEffect(() => {\n   \n    if(auth?.user?.token){\n      history.push('/dashboard');\n    }\n  \n }, [auth])\n \n\n const handleLogin = async function(){\n    if(!state.cpf || !state.password) return showError(`É necessário preencher CPF e senha.`);\n    \n    dispatch({type: 'AUTH.LOGIN', payload: { cpf: state.cpf, password: state.password }, history, setState});\n\n }\n \n function showError(msg){\n   if(!state.error || msg == null) setState(state => ({...state, error: msg}));\n   else setState(state => ({...state, error: `${state.error}`}));\n }\n\n useEffect(() => {\n    clearTimeout(errTimeout.current);\n\n    errTimeout.current = setTimeout(() => {\n      showError(null);\n    }, 3000)\n\n    return () => {\n      clearTimeout(errTimeout.current);\n    }\n }, [state.error])\n \n  \n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"8\">\n          {state.error && <CAlert color=\"danger\">{state.error}</CAlert>}\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Acesso restrito à diretoria</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"text\" onChange={(e) => setState(state => ({...state, cpf: e.target.value}))} placeholder=\"CPF\" autoComplete=\"username\" />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" onChange={(e) => setState(state => ({...state, password: e.target.value}))} placeholder=\"Senha\" autoComplete=\"current-password\" />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs=\"6\">\n                        <CButton onClick={handleLogin} color=\"primary\" className=\"px-4\">Entrar</CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              <CCard className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                <CCardBody className=\"text-center\">\n                  <div>\n                    <h2>Bem-vindo</h2>\n                    <p>Esta é uma área restrita destinada à manutenção de dados referentes ao acampamento CVM. Para entrar, é necessário identificar-se com CPF e Senha..</p>\n                      <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>#DIRETORIA-CVM</CButton>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n"],"sourceRoot":""}